<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/markdown/developer-notes.md at 21-juni-2019
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="nl" lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190621" />
    <meta http-equiv="Content-Language" content="nl" />
    <title>BRMO BRK verschil service 1.0.2-SNAPSHOT &#x2013; Developer notes</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>

  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="http://www.b3partners.nl/" id="bannerLeft"><img src="images/logo.png"  alt="B3Partners B.V."/></a></div>
        <div class="pull-right"><a href="https://github.com/B3Partners/brmo-brkverschil-service" id="bannerRight"><h2>BRMO BRK verschil service</h2>
</a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Meest recente publicatie: 21-juni-2019<span class="divider">|</span>
</li>
          <li id="projectVersion">Versie: 1.0.2-SNAPSHOT</li>
      <li class="pull-right"><a href="https://github.com/B3Partners/brmo-brkverschil-service/issues" class="externalLink" title="Issues dashboard">Issues dashboard</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Informatie</li>
    <li><a href="index.html" title="Home"><span class="none"></span>Home</a></li>
    <li><a href="installatie.html" title="Installatie"><span class="none"></span>Installatie</a></li>
    <li><a href="ontwerp.html" title="Ontwerp"><span class="none"></span>Ontwerp</a></li>
    <li class="active"><a href="#"><span class="none"></span>Developer Notes</a></li>
      <li class="nav-header">Project documentatie</li>
    <li><a href="project-info.html" title="Project informatie"><span class="icon-chevron-right"></span>Project informatie</a></li>
    <li><a href="project-reports.html" title="Project rapporten"><span class="icon-chevron-right"></span>Project rapporten</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Gemaakt door Maven" class="poweredBy"><img class="builtBy" alt="Gemaakt door Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Developer notes</h1>
<div class="section">
<h2><a name="release_maken"></a>release maken</h2>
<p>Een release bouwen begint met het uitvoeren van het commando <tt>mvn clean release:prepare</tt> daarbij wordt voor de verschillende artifacten om versienummers gevraagd, zowel voor voor de release als de volgende ontwikkel versie. Tevens wordt er om een naam voor een tag gevraagd. In principe kan alle informatie op de commandline worden meegegeven, bijvoorbeeld:</p>

<div>
<div>
<pre class="source">mvn release:prepare -l rel-prepare.log -DdevelopmentVersion=1.6.1-SNAPSHOT -DreleaseVersion=1.6.0 -Dtag=v1.6.0 -T1
mvn release:perform -l rel-perform.log
</pre></div></div>

<p>Met het commando <tt>mvn release:perform</tt> wordt daarna, op basis van de tag uit de stap hierboven, de release gebouwd en gedeployed naar de repository uit de pom file. De release bestaat uit jar en war files met daarbij oa. ook de javadoc. Voor het hele project kan dit even duren, oa. omdat de javadoc gebouwd wordt.</p>
<div class="section">
<h3><a name="Maven_site_bouwen_en_online_brengen"></a>Maven site bouwen en online brengen</h3>
<p>De Maven site voor deze applicatie leeft in de <tt>gh-pages</tt> branch van de repository, met onderstaande commando&#x2019;s kan de site worden bijgwerkt en online gebracht.</p>
<ul>

<li><tt>cd target/checkout</tt> (als je dit direct na een release doet, dan staat de getaggede versie daarin, anders gewoon vanuit de root)</li>
<li><tt>mvn -T1 site site:stage</tt></li>
<li><tt>mvn scm-publish:publish-scm</tt></li>
</ul></div></div>
<div class="section">
<h2><a name="Integratie_en_unit_tests"></a>Integratie en unit tests</h2>
<p>Er is een Maven profiel (postgresql) voor de ondersteunde database gedefinieerd, het profiel zorgen ervoor dat de juist JDBC driver beschikbaar komt in de test suites, tevens kan daarmee het juiste configuratie bestande worden geladen.</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> unit tests </th>
<th> integratie tests </th></tr>
</thead><tbody>

<tr class="b">
<td>Naamgeving conventie <tt>&lt;Mijn&gt;Test.java</tt>  </td>
<td>Naamgeving conventie <tt>&lt;Mijn&gt;IntegrationTest.java</tt>  </td></tr>
<tr class="a">
<td>Zelfstandige tests, zonder runtime omgeving benodigdheden, eventueel voorzien van een data bestand, maar zonder verdere afhankelijkheden.  </td>
<td>Tests die een database omgeving en/of servlet container nodig hebben.  </td></tr>
<tr class="b">
<td>Unit tests worden onafhankelijk van het gebruikte Maven profiel uitgevoerd, in principe tijdens iedere full build, tenzij er een <tt>skip</tt> optie voor het overslaan van de tests wordt meegegeven.  </td>
<td>Unit tests worden afhankelijk van het gebruikte Maven profiel uitgevoerd.  </td></tr>
</tbody>
</table>
<p>Met het commando <tt>mvn clean test tomcat7:run -Ppostgresql</tt> kan een tomcat instantie in de lucht worden gebracht om tegen te testen, zie verder het <tt>postgresql</tt> profiel in de <tt>pom.xml</tt> file.</p>
<div class="section">
<h3><a name="database_configuratie"></a>database configuratie</h3>
<p>De te gebruiken database smaak wordt middels de <tt>database.properties.file</tt> property in de pom.xml van de module of via commandline ingesteld.</p>
<p>Voor gebruik van de propertyfile in een integratie test kun je overerven van een abstracte klasse in verschillende modules.</p>
<p>De applicatie gebruikt het <tt>rsbg</tt> schema van de BRMO voor bevraging en het <tt>staging</tt> schema voor de authenticatie.</p></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2018&#x2013;2019
<a href="http://www.b3partners.nl/">B3Partners B.V.</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>